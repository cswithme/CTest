/*
 * main.cpp
 * C语言文件操作
 *  Created on: 2017-9-18
 *      Author: root
 */

/*
 * return 读出字节数,-1 Error!
 */
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int fileRead(const char *szFileName, unsigned char *ucReadBuff, unsigned long ulReadBuffCnt)
{
	FILE * fp = NULL;

	fp = fopen (szFileName, "rb");

	if (fp == NULL)
	{
		puts("Open file Fail");
		return -1;
	}

	if (fseek(fp, 5, SEEK_SET) != 0)
	{
		puts("fseek(fp, 5, SEEK_SET) != 0");
		return -1;
	}

	unsigned char ucTemp[20] = {0};
	size_t iReadCnt = fread((void *)ucTemp, sizeof(unsigned char), sizeof(ucTemp), fp);
	printf("Read %u Bytes: ", iReadCnt);
	for(size_t iCnt=0; iCnt < iReadCnt; ++iCnt)
	{
		printf("%02X  ",ucTemp[iCnt]);
	}
	putchar('\n');

	if (fseek(fp, 0, SEEK_SET) != 0)
	{
		puts("fseek(fp, 0, SEEK_SET) != 0");
		return -1;
	}
	puts("fseek(fp, 0, SEEK_SET) sucess");

	return 666;
}

int main()
{

	unsigned char ucReadBuff[1024] = {0};

	//fileRead("/home/PRM.0103.0354.000001", ucReadBuff, sizeof(ucReadBuff));
	fileRead("new 2.txt", ucReadBuff, sizeof(ucReadBuff));

}

